syntax = "proto3";

import "common/date.proto";

package stats;

service Stats {
  rpc GetGameStatlines(GetGameStatlinesRequest) returns (GetGameStatlinesResponse);
  rpc GetSeasonTotals(GetSeasonTotalsRequest) returns (GetSeasonTotalsResponse);
}

message GetGameStatlinesRequest {
  optional uint32 number_of_most_recent_games = 1;

  // If set, only combatants whose IDs are in this set will be returned.
  repeated uint32 combatant_ids = 2;
}

message GetGameStatlinesResponse {
  message GameStatlines {
    uint32 game_id = 1;
    map<uint32, bytes> combatant_statlines = 2;
  }

  repeated GameStatlines statlines = 1;
}

message GetSeasonTotalsRequest {
  uint32 season_id = 1;
}

message GetSeasonTotalsResponse {
  map<uint32, bytes> combatant_statlines = 1;
}

